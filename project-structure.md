# ğŸ“ Glupp â€” Structure Projet

```
glupp/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ manifest.json              # PWA manifest
â”‚   â”œâ”€â”€ icon-192.png               # App icon
â”‚   â”œâ”€â”€ icon-512.png               # App icon HD
â”‚   â””â”€â”€ sw.js                      # Service Worker (auto-generated by next-pwa)
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ layout.tsx             # Root layout : <html>, fonts, providers, metadata
â”‚   â”‚   â”œâ”€â”€ page.tsx               # Redirect â†’ /duel
â”‚   â”‚   â”œâ”€â”€ globals.css            # Tailwind directives + custom CSS vars
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ (auth)/                # Routes publiques (pas de TabBar)
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx         # Layout auth minimal
â”‚   â”‚   â”‚   â”œâ”€â”€ login/page.tsx     # Email + password + OAuth
â”‚   â”‚   â”‚   â”œâ”€â”€ register/page.tsx  # Inscription + choix username
â”‚   â”‚   â”‚   â””â”€â”€ onboarding/page.tsx # Choix styles prÃ©fÃ©rÃ©s, premier scan
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ (app)/                 # Routes protÃ©gÃ©es (avec TabBar)
â”‚   â”‚       â”œâ”€â”€ layout.tsx         # Layout app : Header + TabBar + auth guard
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ duel/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx       # âš”ï¸ Duel ELO + Glupp of the Week + Live Feed
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ ranking/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx       # ğŸ† Classement mondial + filtres moment/style
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ map/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx       # ğŸ—ºï¸ Carte des bars + menus + votes
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ social/
â”‚   â”‚       â”‚   â””â”€â”€ page.tsx       # ğŸ‘¥ Amis, Crew Level, invitations, tournÃ©es
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ profile/
â”‚   â”‚           â”œâ”€â”€ page.tsx       # ğŸ‘¤ Stats, XP, progression tree
â”‚   â”‚           â”œâ”€â”€ collection.tsx # ğŸƒ PokÃ©dex grid + filtres raretÃ©
â”‚   â”‚           â””â”€â”€ passport.tsx   # ğŸ›‚ Beer Passport par pays/rÃ©gion
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                    # Composants rÃ©utilisables
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Pill.tsx           # Tag/filtre arrondi
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressBar.tsx    # Barre XP, progression
â”‚   â”‚   â”‚   â”œâ”€â”€ Avatar.tsx         # Cercle avec initiale + couleur
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx          # Bottom sheet modal
â”‚   â”‚   â”‚   â”œâ”€â”€ Toast.tsx          # Notification "+15 XP âš”ï¸"
â”‚   â”‚   â”‚   â””â”€â”€ Skeleton.tsx       # Loading placeholder
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ beer/
â”‚   â”‚   â”‚   â”œâ”€â”€ BeerCard.tsx       # Carte biÃ¨re (mini, pour grids)
â”‚   â”‚   â”‚   â”œâ”€â”€ BeerModal.tsx      # Fiche dÃ©taillÃ©e bottom sheet
â”‚   â”‚   â”‚   â”œâ”€â”€ BeerRow.tsx        # Ligne biÃ¨re (ranking, search)
â”‚   â”‚   â”‚   â”œâ”€â”€ DuelCards.tsx      # Les 2 cartes du duel + animation
â”‚   â”‚   â”‚   â”œâ”€â”€ TasteProfile.tsx   # Barres horizontales goÃ»t
â”‚   â”‚   â”‚   â””â”€â”€ RarityBadge.tsx    # Badge commune/rare/Ã©pique/lÃ©gendaire
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ social/
â”‚   â”‚   â”‚   â”œâ”€â”€ FriendCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CrewCard.tsx       # Crew Level avec progression
â”‚   â”‚   â”‚   â”œâ”€â”€ LiveFeedItem.tsx   # Item du Glupp Live feed
â”‚   â”‚   â”‚   â”œâ”€â”€ PhotoProof.tsx     # Modal photo + tag amis + gÃ©oloc
â”‚   â”‚   â”‚   â””â”€â”€ GluppOfWeek.tsx    # BanniÃ¨re GOTW
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ navigation/
â”‚   â”‚   â”‚   â”œâ”€â”€ TabBar.tsx         # 5 onglets bas (Duel/Ranking/Map/Social/Profil)
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx         # Logo + scan + search + notifs
â”‚   â”‚   â”‚   â””â”€â”€ SearchModal.tsx    # Recherche full-screen
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ gamification/
â”‚   â”‚       â”œâ”€â”€ XPToast.tsx        # Animation "+15 XP" qui monte
â”‚   â”‚       â”œâ”€â”€ LevelBadge.tsx     # Badge niveau actuel
â”‚   â”‚       â”œâ”€â”€ ProgressionTree.tsx # Arbre 7 niveaux
â”‚   â”‚       â”œâ”€â”€ TrophyCard.tsx     # TrophÃ©e avec progression
â”‚   â”‚       â””â”€â”€ ScanModal.tsx      # Scanner camÃ©ra
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts          # createBrowserClient()
â”‚   â”‚   â”‚   â”œâ”€â”€ server.ts          # createServerClient() pour RSC
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware.ts      # Auth middleware
â”‚   â”‚   â”‚   â””â”€â”€ types.ts           # Types auto-gÃ©nÃ©rÃ©s par Supabase CLI
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useAuth.ts         # Login, register, session
â”‚   â”‚   â”‚   â”œâ”€â”€ useBeers.ts        # Fetch beers, search, filter
â”‚   â”‚   â”‚   â”œâ”€â”€ useDuel.ts         # Generate pair, submit vote, animate
â”‚   â”‚   â”‚   â”œâ”€â”€ useCollection.ts   # User's PokÃ©dex, stats, filters
â”‚   â”‚   â”‚   â”œâ”€â”€ useProfile.ts      # XP, level, stats
â”‚   â”‚   â”‚   â”œâ”€â”€ useFriends.ts      # Friend list, requests
â”‚   â”‚   â”‚   â”œâ”€â”€ useCrew.ts         # Crew level, members
â”‚   â”‚   â”‚   â”œâ”€â”€ useLiveFeed.ts     # Real-time Supabase subscription
â”‚   â”‚   â”‚   â””â”€â”€ useBars.ts         # Nearby bars, menus
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â””â”€â”€ useAppStore.ts     # Zustand global store (UI state, modals)
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ elo.ts             # Calcul ELO cÃ´tÃ© client (preview)
â”‚   â”‚       â”œâ”€â”€ xp.ts              # Niveaux, XP thresholds, titres
â”‚   â”‚       â”œâ”€â”€ format.ts          # Formatage nombres, dates
â”‚   â”‚       â””â”€â”€ constants.ts       # Couleurs, rarity config, etc.
â”‚   â”‚
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ beer.ts                # Beer, UserBeer, Duel
â”‚   â”‚   â”œâ”€â”€ user.ts                # Profile, Friend, Crew
â”‚   â”‚   â”œâ”€â”€ bar.ts                 # Bar, BarBeer
â”‚   â”‚   â””â”€â”€ activity.ts            # Activity, ActivityTag
â”‚   â”‚
â”‚   â””â”€â”€ middleware.ts              # Next.js middleware â†’ auth redirect
â”‚
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ schema.sql                 # SchÃ©ma complet DB
â”‚   â”œâ”€â”€ seed.sql                   # DonnÃ©es initiales
â”‚   â””â”€â”€ functions/
â”‚       â””â”€â”€ process-duel/
â”‚           â””â”€â”€ index.ts           # Edge Function ELO
â”‚
â”œâ”€â”€ .env.local                     # Variables Supabase (pas dans git)
â”œâ”€â”€ next.config.js                 # Config Next.js + PWA
â”œâ”€â”€ tailwind.config.ts             # Palette Glupp custom
â”œâ”€â”€ tsconfig.json
â””â”€â”€ package.json
```

## ğŸ¨ Tailwind Config â€” Palette Glupp

```typescript
// tailwind.config.ts
const config = {
  theme: {
    extend: {
      colors: {
        glupp: {
          bg: '#16130E',
          card: '#211E18',
          'card-alt': '#2A2520',
          accent: '#E08840',
          'accent-soft': '#E0884015',
          gold: '#DCB04C',
          cream: '#FBF7F1',
          warm: '#2A2118',
          'warm-black': '#3D3428',
          'text-soft': '#A89888',
          'text-muted': '#6B6050',
          border: '#3A3530',
          // Rarity
          common: '#8D7C6C',
          rare: '#4ECDC4',
          epic: '#A78BFA',
          legendary: '#F0C460',
        }
      },
      fontFamily: {
        display: ['Bricolage Grotesque', 'Georgia', 'serif'],
        body: ['Inter', 'system-ui', 'sans-serif'],
      },
      borderRadius: {
        'glupp': '16px',
        'glupp-lg': '20px',
        'glupp-xl': '24px',
      }
    }
  }
}
```

## ğŸ“± Niveaux XP â€” Constantes

```typescript
// src/lib/utils/xp.ts
export const XP_LEVELS = [
  { level: 1, title: "NÃ©ophyte Curieux", icon: "ğŸŒ±", min: 0 },
  { level: 2, title: "Apprenti GoÃ»teur", icon: "ğŸº", min: 500 },
  { level: 3, title: "Hop Voyageur", icon: "ğŸ§­", min: 1500 },
  { level: 4, title: "MaÃ®tre Brasseur", icon: "âš—ï¸", min: 3500 },
  { level: 5, title: "Sommelier Houblon", icon: "ğŸ“", min: 7000 },
  { level: 6, title: "LÃ©gende Mousseuse", icon: "ğŸ‘‘", min: 12000 },
  { level: 7, title: "Dieu de la BiÃ¨re", icon: "âš¡", min: 20000 },
];

export const XP_GAINS = {
  duel: 15,
  scan: 5,
  photo: 20,
  photo_geo: 40,
  tag_friend: 10,
  rare_beer: 50,
  trophy: 200,
  challenge: 500,
  gotw: 50,
  passport_complete: 100,
};
```
